[gd_scene load_steps=24 format=3 uid="uid://0kjxsbr8ri00"]

[ext_resource type="Script" uid="uid://4r4luume5syx" path="res://door.gd" id="1_71ul0"]
[ext_resource type="Texture2D" uid="uid://ph85pn0m5hgn" path="res://assets/sprites/backgrounds/pokojik.png" id="2_71ul0"]
[ext_resource type="PackedScene" uid="uid://bf8ctexfk0mg4" path="res://player/player.tscn" id="3_ln1k6"]
[ext_resource type="Texture2D" uid="uid://xuxbk2n0xehj" path="res://assets/sprites/objects/bookshelf-Sheet.png" id="4_dfefq"]
[ext_resource type="Texture2D" uid="uid://noer0enkqlj2" path="res://assets/sprites/objects/bed-Sheet.png" id="5_i411l"]
[ext_resource type="Texture2D" uid="uid://b2v7hsfrgwiie" path="res://assets/sprites/objects/věšák.png" id="6_sc5nd"]
[ext_resource type="PackedScene" uid="uid://cn621y7agcojn" path="res://door.tscn" id="7_ln1k6"]

[sub_resource type="AtlasTexture" id="AtlasTexture_671wp"]
atlas = ExtResource("4_dfefq")
region = Rect2(0, 0, 50, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_mo76n"]
atlas = ExtResource("4_dfefq")
region = Rect2(50, 0, 50, 100)

[sub_resource type="AtlasTexture" id="AtlasTexture_42l1d"]
atlas = ExtResource("4_dfefq")
region = Rect2(100, 0, 50, 100)

[sub_resource type="SpriteFrames" id="SpriteFrames_2jcla"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_671wp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mo76n")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_42l1d")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_gyfs4"]
normal = Vector2(1, 0)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_d5x1h"]
normal = Vector2(0, 1)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_8mm7a"]
normal = Vector2(1, 0)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_hq1ik"]
normal = Vector2(-0.01716414, -0.99985266)
distance = 39.801968

[sub_resource type="AtlasTexture" id="AtlasTexture_8mm7a"]
atlas = ExtResource("5_i411l")
region = Rect2(0, 0, 150, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_hq1ik"]
atlas = ExtResource("5_i411l")
region = Rect2(150, 0, 150, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_nfk4m"]
atlas = ExtResource("5_i411l")
region = Rect2(300, 0, 150, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_66tet"]
atlas = ExtResource("5_i411l")
region = Rect2(450, 0, 150, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_7ycvg"]
atlas = ExtResource("5_i411l")
region = Rect2(600, 0, 150, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_wr18j"]
atlas = ExtResource("5_i411l")
region = Rect2(750, 0, 150, 80)

[sub_resource type="AtlasTexture" id="AtlasTexture_qwutr"]
atlas = ExtResource("5_i411l")
region = Rect2(900, 0, 150, 80)

[sub_resource type="SpriteFrames" id="SpriteFrames_671wp"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_8mm7a")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_hq1ik")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nfk4m")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_66tet")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7ycvg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_wr18j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qwutr")
}],
"loop": true,
"name": &"postel",
"speed": 1.0
}]

[node name="Node2D" type="Node2D"]
script = ExtResource("1_71ul0")

[node name="Background" type="Sprite2D" parent="."]
position = Vector2(962.75006, 533)
scale = Vector2(1.4244791, 1.4244791)
texture = ExtResource("2_71ul0")

[node name="Player" parent="." instance=ExtResource("3_ln1k6")]
z_index = 1
position = Vector2(1392, 749)
scale = Vector2(2.67, 2.67)

[node name="Bookshelf" type="StaticBody2D" parent="."]
texture_filter = 1
position = Vector2(801, 322)
input_pickable = true

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Bookshelf"]
position = Vector2(3.0000305, 2.000021)
scale = Vector2(5.8124995, 5.8124995)
sprite_frames = SubResource("SpriteFrames_2jcla")
autoplay = "default"

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="Bookshelf"]
position = Vector2(-126, -10.087944)
scale = Vector2(1, 0.8169406)
polygon = PackedVector2Array(1, 9, 0, 334.2813, 270, 336.7295, 266, -324.27332, 3, -316.92883, 2.3568115, -212.10638)

[node name="borders" type="StaticBody2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="borders"]
position = Vector2(1922, 1)
rotation = -3.138214
shape = SubResource("WorldBoundaryShape2D_gyfs4")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="borders"]
shape = SubResource("WorldBoundaryShape2D_d5x1h")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="borders"]
position = Vector2(0, 1080)
shape = SubResource("WorldBoundaryShape2D_8mm7a")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="borders"]
position = Vector2(1919, 1105)
shape = SubResource("WorldBoundaryShape2D_hq1ik")

[node name="CollisionShape2D5" type="CollisionShape2D" parent="borders"]
position = Vector2(452, 631)
rotation = 2.6202505
shape = SubResource("WorldBoundaryShape2D_hq1ik")

[node name="CollisionShape2D6" type="CollisionShape2D" parent="borders"]
position = Vector2(1093, 542)
rotation = 3.154244
shape = SubResource("WorldBoundaryShape2D_hq1ik")

[node name="Postel" type="StaticBody2D" parent="."]
position = Vector2(374, 825)
scale = Vector2(0.88, 0.88)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Postel"]
scale = Vector2(1.9847858, 1.9847858)
polygon = PackedVector2Array(-175, 141, 251.41252, 148.63065, 252.924, 75.071075, 253.93169, 26.703125, 84.14006, 29.726135, -5.54216, 31.23761, -73.055756, 14.611145, -81.117065, 2.0153198, -110.33937, -9.572815, -108, -37, -105, -60, -108, -108, -200, -79, -198, 142)

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Postel"]
z_index = 2
position = Vector2(17, -4)
scale = Vector2(7.1750007, 7.1750007)
sprite_frames = SubResource("SpriteFrames_671wp")
animation = &"postel"
autoplay = "postel"

[node name="Vesak" type="StaticBody2D" parent="."]
texture_filter = 1
position = Vector2(1025, 394)
input_pickable = true

[node name="AnimatedSprite2D" type="Sprite2D" parent="Vesak"]
position = Vector2(18.300018, -4.49998)
scale = Vector2(5.8124995, 5.8124995)
texture = ExtResource("6_sc5nd")

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="Vesak"]
position = Vector2(-110.70001, -16.587944)
scale = Vector2(1, 0.8169406)
polygon = PackedVector2Array(35, 22.141113, 37, 266.95697, 196, 268.18103, 216, -264.29343, 36, -254.5008)

[node name="Door" parent="." instance=ExtResource("7_ln1k6")]
position = Vector2(1626.0001, 210.00002)
scale = Vector2(2.8799987, 4.3199997)
target_scene_path = "uid://wmggbdwbqa28"

[connection signal="input_event" from="Bookshelf" to="." method="_on_lamp_input_event"]
[connection signal="input_event" from="Postel" to="." method="_on_postel_input_event"]
[connection signal="input_event" from="Vesak" to="." method="_on_vesak_input_event"]
